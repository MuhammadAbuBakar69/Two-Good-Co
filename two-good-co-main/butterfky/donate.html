<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Add GSAP libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/CustomEase.min.js"></script>
</head>
<body>
    <style>
        @font-face {
  src: url("https://fonts.cdnfonts.com/css/pp-neue-montreal") format("woff2");
  font-family: "PP Neue Montreal", sans-serif;
  font-weight: 400;
}

*,
*:before,
*:after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  font-size: calc(100vw / 1512 * 10);
}

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: "PP Neue Montreal", sans-serif;
  background-color: #000;
  color: #fff;
  height: 100vh;
  overflow: hidden;
}

.slideshow {
  position: relative;
  width: 100%;
  height: 100vh;
  overflow: hidden;
}

.slide {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  visibility: hidden;
  overflow: hidden;
  transform: translateY(0);
}

.slide.active {
  visibility: visible;
}

.slide__img {
  position: absolute;
  top: -10%;
  left: -10%;
  width: 120%;
  height: 120%;
  background-size: cover;
  background-position: center;
  will-change: transform;
}

.slide__img::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.2) 0%,
    rgba(0, 0, 0, 0) 40%
  );
}

.slide__text {
  position: absolute;
  bottom: 5rem;
  left: 5rem;
  max-width: 80%;
  overflow: hidden;
  z-index: 5;
}

.slide__text-line {
  display: block;
  font-size: 4.5rem;
  line-height: 1;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: -0.02em;
  transform: translateY(100%);
  opacity: 0;
}

.controls {
  position: fixed;
  top: 2rem;
  right: 2rem;
  z-index: 10;
}

.controls-text {
  color: #fff;
  font-size: 0.8rem;
  font-weight: 400;
}

.slide-counter {
  position: fixed;
  bottom: 2rem;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  font-size: 1rem;
  font-weight: 700;
  letter-spacing: 0.05em;
  z-index: 10;
}

.counter-container {
  position: relative;
  min-width: 2rem;
  height: 1.2rem;
  overflow: hidden;
  text-align: right;
}

.counter-strip {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  text-align: right;
}

.counter-number {
  height: 1.2rem;
  display: block;
}

.counter-separator {
  width: 40px;
  height: 1px;
  background-color: #fff;
  margin: 0 1rem;
}

.counter-total {
  min-width: 2rem;
  text-align: left;
}

.slide-info {
  position: fixed;
  top: 2rem;
  left: 2rem;
  font-size: 0.8rem;
  font-weight: 400;
  opacity: 0.7;
  z-index: 10;
  max-width: 15rem;
}

.slide-info-title {
  margin-bottom: 0.5rem;
}

.cursor {
  position: fixed;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: 1px solid rgba(255, 255, 255, 0.3);
  margin-top: -30px;
  margin-left: -30px;
  z-index: 9999;
  pointer-events: none;
  transform: scale(0);
  transition: transform 0.3s ease;
}

.cursor-arrow {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 1.2rem;
  opacity: 0;
}

.cursor.active {
  transform: scale(1);
}

.cursor.prev .cursor-arrow.prev,
.cursor.next .cursor-arrow.next {
  opacity: 1;
}

@media (max-width: 768px) {
  .slide__text {
    bottom: 3rem;
    left: 2rem;
    max-width: 90%;
  }

  .slide__text-line {
    font-size: 3rem;
  }
}

    </style>
    <div class="slideshow">
        <!-- Slide 1 -->
        <div class="slide active">
          <div class="slide__img" style="background-image: url(https://cdn.cosmos.so/cf68a397-080a-437a-994e-69dedd9e6e06?format=jpeg)"></div>
          <div class="slide__text">
            <span class="slide__text-line">BETWEEN SHADOW</span>
            <span class="slide__text-line">AND LIGHT</span>
          </div>
        </div>
      
        <!-- Slide 2 -->
        <div class="slide">
          <div class="slide__img" style="background-image: url(https://cdn.cosmos.so/7b3f4c48-ec63-4bac-b472-910c037a0eb4?format=jpeg)"></div>
          <div class="slide__text">
            <span class="slide__text-line">SILENCE SPEAKS</span>
            <span class="slide__text-line">THROUGH FORM</span>
          </div>
        </div>
      
        <!-- Slide 3 -->
        <div class="slide">
          <div class="slide__img" style="background-image: url(https://cdn.cosmos.so/444502b9-4cb9-4f14-a068-f0213df08729?format=jpeg)"></div>
          <div class="slide__text">
            <span class="slide__text-line">ESSENCE BEYOND</span>
            <span class="slide__text-line">PERCEPTION</span>
          </div>
        </div>
      
        <!-- Slide 4 -->
        <div class="slide">
          <div class="slide__img" style="background-image: url(https://cdn.cosmos.so/ef511e17-a35b-42e6-9122-2754bbd2ad7e?format=jpeg)"></div>
          <div class="slide__text">
            <span class="slide__text-line">TRUTH IN</span>
            <span class="slide__text-line">EMPTINESS</span>
          </div>
        </div>
      
        <!-- Slide 5 -->
        <div class="slide">
          <div class="slide__img" style="background-image: url(https://cdn.cosmos.so/8b0252bd-cb64-45f4-aef8-672c7f628f76?format=jpeg)"></div>
          <div class="slide__text">
            <span class="slide__text-line">SURRENDER TO</span>
            <span class="slide__text-line">THE VOID</span>
          </div>
        </div>
      </div>
      
      <div class="controls">
        <div class="controls-text">scroll / drag</div>
      </div>
      
      <div class="slide-counter">
        <div class="counter-container">
          <div class="counter-strip">
            <div class="counter-number">01</div>
          </div>
        </div>
        <div class="counter-separator"></div>
        <div class="counter-total">05</div>
      </div>
      
      <div class="slide-info">
        <div class="slide-info-title">Contemplative Series</div>
        <div class="slide-info-desc">Navigate through a visual journey exploring the boundaries between form and emptiness.</div>
      </div>
      
      <div class="cursor">
        <div class="cursor-arrow prev">←</div>
        <div class="cursor-arrow next">→</div>
      </div>
      <script>
        document.addEventListener("DOMContentLoaded", function () {
  // Basic variables
  const slides = document.querySelectorAll(".slide");
  const slideImages = document.querySelectorAll(".slide__img");
  const counterStrip = document.querySelector(".counter-strip");
  const cursor = document.querySelector(".cursor");
  let currentIndex = 0;
  let isAnimating = false;
  let mouseX = 0;

  // Constants
  const NEXT = 1;
  const PREV = -1;
  const SLIDE_DURATION = 1.5; // Duration of slide transition

  // Custom eases for more refined animations
  gsap.registerPlugin(CustomEase);

  // Create custom eases for different animation components
  CustomEase.create("slideInOut", "0.25, 1, 0.5, 1");
  CustomEase.create("textReveal", "0.77, 0, 0.175, 1");
  CustomEase.create("counterSlide", "0.25, 1, 0.5, 1"); // Match with slideInOut
  CustomEase.create("imageWarp", "0.22, 1, 0.36, 1");

  // Format number with leading zero
  function formatNumber(num) {
    return num < 10 ? `0${num}` : `${num}`;
  }

  // Initialize counter strip with all numbers
  function initCounterStrip() {
    // Clear existing content
    counterStrip.innerHTML = "";

    // Add all slide numbers to the strip
    for (let i = 0; i < slides.length; i++) {
      const numberDiv = document.createElement("div");
      numberDiv.className = "counter-number";
      numberDiv.textContent = formatNumber(i + 1);
      counterStrip.appendChild(numberDiv);
    }

    // Position the strip to show the first number
    gsap.set(counterStrip, { y: 0 });
  }

  // Call initialization functions
  initCounterStrip();

  // Animate in the text for the first slide
  const firstSlideTextLines = slides[0].querySelectorAll(".slide__text-line");
  gsap.to(firstSlideTextLines, {
    y: 0,
    opacity: 1,
    duration: 1.2,
    stagger: 0.1,
    delay: 0.5,
    ease: "textReveal"
  });

  // Animate counter to show the target index
  function animateCounter(targetIndex, direction, timeline) {
    // Calculate the target position
    const targetY = -targetIndex * 1.2; // 1.2rem is the height of each number

    // Add to the timeline instead of creating a separate animation
    timeline.to(
      counterStrip,
      {
        y: `${targetY}rem`,
        duration: SLIDE_DURATION,
        ease: "slideInOut" // Match with slide transition
      },
      0.2
    ); // Start at the same time as slide transition
  }

  // Navigation function
  function navigate(direction) {
    if (isAnimating) return;

    // Calculate previous and next indices
    const prevIndex = currentIndex;
    currentIndex =
      direction === NEXT
        ? currentIndex < slides.length - 1
          ? currentIndex + 1
          : 0
        : currentIndex > 0
        ? currentIndex - 1
        : slides.length - 1;

    // Perform the navigation
    performNavigation(prevIndex, currentIndex, direction);
  }

  // Perform the navigation animation
  function performNavigation(prevIndex, nextIndex, direction) {
    isAnimating = true;

    // Get current and next elements
    const currentSlide = slides[prevIndex];
    const currentImage = slideImages[prevIndex];
    const currentTextLines = currentSlide.querySelectorAll(".slide__text-line");

    const nextSlide = slides[nextIndex];
    const nextImage = slideImages[nextIndex];
    const nextTextLines = nextSlide.querySelectorAll(".slide__text-line");

    // Make sure next slide is ready
    gsap.set(nextSlide, {
      visibility: "visible",
      y: direction * 100 + "%"
    });

    // Enhanced image setup for more dramatic effect
    gsap.set(nextImage, {
      y: -direction * 40 + "%",
      scale: 1.4,
      scaleY: 1.8,
      rotation: -direction * 8,
      transformOrigin: direction === NEXT ? "0% 0%" : "100% 100%"
    });

    // Reset next text lines
    gsap.set(nextTextLines, {
      y: 100 + "%",
      opacity: 0
    });

    // Create animation timeline
    const tl = gsap.timeline({
      defaults: { duration: SLIDE_DURATION, ease: "slideInOut" },
      onComplete: () => {
        // Reset current slide
        gsap.set(currentSlide, { visibility: "hidden" });
        currentSlide.classList.remove("active");
        nextSlide.classList.add("active");
        isAnimating = false;
      }
    });

    // Add counter animation to the timeline
    animateCounter(nextIndex, direction, tl);

    // Animate out current text
    tl.to(
      currentTextLines,
      {
        y: -80 + "%",
        opacity: 0,
        duration: 0.7,
        stagger: 0.05,
        ease: "power2.in"
      },
      0
    );

    // Animate current slide out
    tl.to(
      currentSlide,
      {
        y: -direction * 100 + "%"
      },
      0.2
    );

    // Enhanced image animation for current slide
    tl.to(
      currentImage,
      {
        y: direction * 40 + "%",
        scale: 1.4,
        scaleY: 1.8,
        rotation: direction * 8,
        ease: "imageWarp",
        transformOrigin: direction === NEXT ? "0% 100%" : "100% 0%"
      },
      0.2
    );

    // Animate in next slide
    tl.to(
      nextSlide,
      {
        y: "0%"
      },
      0.2
    );

    // Enhanced image animation for next slide
    tl.to(
      nextImage,
      {
        y: "0%",
        scale: 1,
        scaleY: 1,
        rotation: 0,
        ease: "imageWarp"
      },
      0.2
    );

    // Animate in next text with delay and custom ease
    tl.to(
      nextTextLines,
      {
        y: 0,
        opacity: 1,
        duration: 1,
        stagger: 0.1,
        ease: "textReveal",
        delay: 0.6
      },
      0.9
    );
  }

  // Custom cursor functionality
  document.addEventListener("mousemove", (e) => {
    // Update cursor position
    gsap.to(cursor, {
      left: e.clientX,
      top: e.clientY,
      duration: 0.1
    });

    // Store mouse X position for direction detection
    mouseX = e.clientX;

    // Show cursor when moving
    cursor.classList.add("active");

    // Determine cursor direction based on position on screen
    const windowWidth = window.innerWidth;
    if (e.clientX < windowWidth / 2) {
      cursor.classList.remove("next");
      cursor.classList.add("prev");
    } else {
      cursor.classList.remove("prev");
      cursor.classList.add("next");
    }

    // Hide cursor after 2 seconds of inactivity
    clearTimeout(window.cursorTimeout);
    window.cursorTimeout = setTimeout(() => {
      cursor.classList.remove("active");
    }, 2000);
  });

  // Hide cursor when leaving window
  document.addEventListener("mouseleave", () => {
    cursor.classList.remove("active");
  });

  // Wheel navigation
  window.addEventListener("wheel", (e) => {
    if (e.deltaY > 0) {
      navigate(NEXT);
    } else {
      navigate(PREV);
    }
  });

  // Touch navigation
  let touchStartY = 0;
  document.addEventListener("touchstart", (e) => {
    touchStartY = e.changedTouches[0].screenY;
  });

  document.addEventListener("touchend", (e) => {
    const touchEndY = e.changedTouches[0].screenY;
    if (touchStartY > touchEndY + 5) {
      navigate(NEXT);
    } else if (touchStartY < touchEndY - 5) {
      navigate(PREV);
    }
  });

  // Click navigation
  document.addEventListener("click", (e) => {
    // Navigate based on click position
    if (mouseX < window.innerWidth / 2) {
      navigate(PREV);
    } else {
      navigate(NEXT);
    }
  });

  // Key navigation
  document.addEventListener("keydown", (e) => {
    if (e.key === "ArrowDown" || e.key === "ArrowRight") {
      navigate(NEXT);
    } else if (e.key === "ArrowUp" || e.key === "ArrowLeft") {
      navigate(PREV);
    }
  });
});

      </script>
</body>